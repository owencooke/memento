{"openapi":"3.1.0","info":{"title":"Memento Backend","version":"0.1.0"},"paths":{"/api/":{"get":{"summary":"Health Check","description":"Checks the health of a project.\n\nIt returns 200 if the project is healthy.","operationId":"health_check_api__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/user/{id}":{"get":{"tags":["user"],"summary":"User Info","description":"Gets user info for a specific user.","operationId":"user_info_api_user__id__get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","format":"uuid4","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/{user_id}/memento/":{"get":{"tags":["memento"],"summary":"Get Users Mementos","description":"Gets all the mementos belonging to a user.","operationId":"get_users_mementos_api_user__user_id__memento__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MementoWithImages"},"title":"Response Get Users Mementos Api User  User Id  Memento  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["memento"],"summary":"Create New Memento","description":"Post route for creating a new memento.\n\n3 key steps:\n    1. creates a memento DB record\n    2. uploads associated images to object storage,\n    3. stores a metadata DB record for each image.\n\nUses multipart/form-data to upload JSON/binary payloads simultaneously.","operationId":"create_new_memento_api_user__user_id__memento__post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_new_memento_api_user__user_id__memento__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Memento"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_create_new_memento_api_user__user_id__memento__post":{"properties":{"memento":{"type":"string","title":"Memento"},"image_metadata":{"type":"string","title":"Image Metadata"},"images":{"items":{"type":"string","format":"binary"},"type":"array","title":"Images"}},"type":"object","required":["memento","image_metadata","images"],"title":"Body_create_new_memento_api_user__user_id__memento__post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Image":{"properties":{"id":{"type":"integer","title":"Id"},"memento_id":{"type":"integer","title":"Memento Id"},"coordinates":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Coordinates"},"date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date"},"detected_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detected Text"},"filename":{"type":"string","title":"Filename"},"image_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Label"},"memento_ids":{"anyOf":[{"items":{"$ref":"#/components/schemas/Memento"},"type":"array"},{"type":"null"}],"title":"Memento Ids"}},"type":"object","required":["id","memento_id","filename"],"title":"Image","description":"Image Schema for Pydantic.\n\nInherits from ImageBaseSchema. Add any customization here."},"ImageWithUrl":{"properties":{"id":{"type":"integer","title":"Id"},"memento_id":{"type":"integer","title":"Memento Id"},"coordinates":{"anyOf":[{"$ref":"#/components/schemas/Location"},{"type":"null"}]},"date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date"},"detected_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detected Text"},"filename":{"type":"string","title":"Filename"},"image_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Label"},"url":{"type":"string","title":"Url","default":""}},"type":"object","required":["id","memento_id","filename"],"title":"ImageWithUrl"},"Location":{"properties":{"lat":{"type":"number","title":"Lat"},"long":{"type":"number","title":"Long"}},"type":"object","required":["lat","long"],"title":"Location","description":"A model that provides methods for converting lat/long\ncoordinates between a variety of formats."},"Memento":{"properties":{"id":{"type":"integer","title":"Id"},"caption":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caption"},"coordinates":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Coordinates"},"date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"user_id":{"type":"string","format":"uuid4","title":"User Id"},"ids":{"anyOf":[{"items":{"$ref":"#/components/schemas/Image"},"type":"array"},{"type":"null"}],"title":"Ids"}},"type":"object","required":["id","user_id"],"title":"Memento","description":"Memento Schema for Pydantic.\n\nInherits from MementoBaseSchema. Add any customization here."},"MementoWithImages":{"properties":{"id":{"type":"integer","title":"Id"},"caption":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caption"},"coordinates":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Coordinates"},"date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Date"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"user_id":{"type":"string","format":"uuid4","title":"User Id"},"images":{"items":{"$ref":"#/components/schemas/ImageWithUrl"},"type":"array","title":"Images"}},"type":"object","required":["id","user_id","images"],"title":"MementoWithImages"},"UserInfo":{"properties":{"id":{"type":"string","format":"uuid4","title":"Id"},"birthday":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Birthday"}},"type":"object","required":["id"],"title":"UserInfo","description":"UserInfo Schema for Pydantic.\n\nInherits from UserInfoBaseSchema. Add any customization here."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}